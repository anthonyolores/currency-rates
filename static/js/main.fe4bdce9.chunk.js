(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(54)},34:function(e,t,a){},35:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(23),u=a.n(c),o=(a(34),a(8)),l=a(9),s=(a(35),function(e){var t=e.placeholder,a=e.value,r=e.handler,c=e.focusHandler,u=e.disable;return n.a.createElement("input",{type:"text",value:a,onChange:function(e){r(e.target.value)},onFocus:function(){c&&c(!0)},placeholder:t,disabled:u})}),i=a(59),C=a(56),E=a(57),d=a(58),m=Object(r.createContext)({}),y=a(7),R={currency:null,fromNumber:0,fromCurrency:"",toNumber:0,toCurrency:"",isFromCurrency:!1,isToCurrency:!1},f={SET_CURRENCY:"SET_CURRENCY",SET_FROM_NUMBER:"SET_FROM_NUMBER",SET_FROM_CURRENCY:"SET_FROM_CURRENCY",SET_TO_NUMBER:"SET_TO_NUMBER",SET_TO_CURRENCY:"SET_TO_CURRENCY",SET_IS_FROM_CURRENCY:"SET_IS_FROM_CURRENCY",SET_IS_TO_CURRENCY:"SET_IS_TO_CURRENCY"},p=function(e,t){switch(console.log(t.type+"---"+t.data),t.type){case f.SET_CURRENCY:if(t.data&&null!=t.data.rates){var a=Object.keys(t.data.rates);t.data.rates=[{value:t.data.rates[a[0]],currency:a[0]},{value:t.data.rates[a[1]],currency:a[1]}]}return Object(y.a)({},e,{currency:t.data});case f.SET_FROM_NUMBER:return Object(y.a)({},e,{fromNumber:t.data});case f.SET_FROM_CURRENCY:return Object(y.a)({},e,{fromCurrency:t.data});case f.SET_TO_NUMBER:return Object(y.a)({},e,{toNumber:t.data});case f.SET_TO_CURRENCY:return Object(y.a)({},e,{toCurrency:t.data});case f.SET_IS_FROM_CURRENCY:return Object(y.a)({},e,{isFromCurrency:null!=t.data&&t.data,isToCurrency:null!=t.data&&!t.data});case f.SET_IS_TO_CURRENCY:return Object(y.a)({},e,{isFromCurrency:null!=t.data&&!t.data,isToCurrency:null!=t.data&&t.data});default:return R}},b=a(13),_=a.n(b),O=a(10),T=a.n(O),S="https://api.exchangeratesapi.io/",N={getRates:function(e,t){try{return _.a.get(S+"latest?base="+e.toUpperCase()+"&symbols="+e.toUpperCase()+","+t.toUpperCase(),{validateStatus:!1})}catch(a){return null}},getHistory:function(e,t){try{var a=T()().format("YYYY-MM-DD"),r=T()().subtract(30,"d").format("YYYY-MM-DD");return _.a.get(S+"history?start_at="+r+"&end_at="+a+"&base="+e.toUpperCase()+"&symbols="+e.toUpperCase()+","+t.toUpperCase(),{validateStatus:!1})}catch(n){return null}},getAbbr:function(){return["USD","JPY","BGN","CZK","DKK","GBP","HUF","PLN","RON","SEK","CHF","ISK","NOK","HRK","RUB","TRY","AUD","BRL","CAD","CNY","HKD","IDR","ILS","INR","KRW","MXN","MYR","NZD","PHP","SGD","THB","ZAR"]}},U=a(24),v={padding:5},h=N.getAbbr();function j(e){return!!(e&&e.length>0)&&-1!==h.indexOf(e.toUpperCase())}function Y(e,t,a){var r=0;if(""!=e){e=parseFloat(e);var n=t.rates[1].value<0,c=1==t.rates[1].value?t.rates[0].value:t.rates[1].value;r=0===a?n?e/c:e*c:n?e*c:e/c}return r%1!=0?r.toFixed(2):r}function M(e,t,a){var r;j(e)&&j(t)?e==t?a({type:f.SET_CURRENCY,data:{base:"from",date:"",rates:(r={},Object(l.a)(r,e,1),Object(l.a)(r,t+"2",1),r)}}):N.getRates(e,t).then(function(e){e.data.error?a({type:f.SET_CURRENCY,data:null}):a({type:f.SET_CURRENCY,data:e.data})}).catch(function(e){a({type:f.SET_CURRENCY,data:null})}):a({type:f.SET_CURRENCY,data:null})}var F=function(e){var t=e.actionType,a=e.actionType2,c=Object(r.useContext)(m),u=c.currencyState,o=c.dispatch,l=Object(r.useRef)(null);!function(e){function n(r){e.current&&!e.current.contains(r.target)&&"Currency"!==r.target.placeholder?o({type:a,data:null}):e.current&&e.current.contains(r.target)&&(o({type:t,data:r.target.innerText}),o({type:a,data:null}),M(u.isFromCurrency?r.target.innerText:u.fromCurrency,u.isToCurrency?r.target.innerText:u.toCurrency,o))}Object(r.useEffect)(function(){return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}})}(l);var s=function(e){var t=[];if(""===e)t=h.slice();else{e=e.toUpperCase();for(var a=0;a<h.length;a++)-1!==h[a].indexOf(e)&&t.push(h[a])}return t}(u.isFromCurrency?u.fromCurrency:u.toCurrency);return n.a.createElement("div",{className:"list-container",ref:l},n.a.createElement(i.a,{defaultActiveKey:"#link1"},s.map(function(e,t){return n.a.createElement(i.a.Item,{key:t},e)})))},g=function(){var e=Object(r.useContext)(m),t=e.currencyState,a=e.dispatch,c=Object(r.useCallback)(function(e){a({type:f.SET_FROM_CURRENCY,data:e}),M(e,t.toCurrency,a)});return n.a.createElement(s,{value:t.fromCurrency,placeholder:"Currency",handler:c,focusHandler:function(e){a({type:f.SET_IS_FROM_CURRENCY,data:e})}})};function x(){var e=Object(r.useContext)(m),t=e.currencyState,a=e.dispatch,c=Object(r.useCallback)(function(e){a({type:f.SET_TO_CURRENCY,data:e}),M(t.fromCurrency,e,a)});return n.a.createElement(s,{value:t.toCurrency,placeholder:"Currency",handler:c,focusHandler:function(e){a({type:f.SET_IS_TO_CURRENCY,data:e})}})}function B(){var e=Object(r.useContext)(m),t=e.currencyState,a=e.dispatch,c=Object(r.useState)(!0),u=Object(o.a)(c,2),l=u[0],i=u[1],C=Object(r.useCallback)(function(e){/^[0-9.]*$/.test(e)&&(a({type:f.SET_FROM_NUMBER,data:e}),j(t.fromCurrency)&&j(t.toCurrency)&&a({type:f.SET_TO_NUMBER,data:Y(e,t.currency,0)}))});return Object(r.useEffect)(function(){i(!(j(t.fromCurrency)&&j(t.toCurrency)))},[t.fromCurrency,t.toCurrency,t.fromNumber,t.toNumber]),n.a.createElement(s,{value:t.fromNumber,placeholder:0,handler:C,disable:l})}function I(){var e=Object(r.useContext)(m),t=e.currencyState,a=e.dispatch,c=Object(r.useState)(!0),u=Object(o.a)(c,2),l=u[0],i=u[1],C=Object(r.useCallback)(function(e){/^[0-9.]*$/.test(e)&&(a({type:f.SET_TO_NUMBER,data:e}),j(t.fromCurrency)&&j(t.toCurrency)&&a({type:f.SET_FROM_NUMBER,data:Y(e,t.currency,1)}))});return Object(r.useEffect)(function(){i(!(j(t.fromCurrency)&&j(t.toCurrency)))},[t.fromCurrency,t.toCurrency,t.fromNumber,t.toNumber]),n.a.createElement(s,{value:t.toNumber,placeholder:0,handler:C,disable:l})}function w(e){var t=e.color,a=Object(r.useContext)(m),c=a.currencyState,u=(a.dispatch,Object(r.useState)(null)),l=Object(o.a)(u,2),s=(l[0],l[1]),i=Object(r.useState)(null),C=Object(o.a)(i,2),E=C[0],d=C[1],y=Object(r.useRef)(null);return Object(r.useEffect)(function(){j(c.fromCurrency)&&j(c.toCurrency)&&N.getHistory(c.fromCurrency,c.toCurrency).then(function(e){var a=Object.keys(e.data.rates).map(function(t){var a=Object.keys(e.data.rates[t]),r=1==e.data.rates[t][a[0]]?e.data.rates[t][a[1]]:e.data.rates[t][a[0]];return{label:t.replace("2019-",""),value:r}});a.sort(function(e,t){return parseInt(e.label.replace("-",""))-parseInt(t.label.replace("-",""))}),d(a),s(new U.Chart(y.current,{type:"line",data:{labels:a.map(function(e){return e.label}),datasets:[{label:"Exchange Rate History",data:a.map(function(e){return e.value}),fill:"none",backgroundColor:t,pointRadius:4,borderColor:t,borderWidth:1,lineTension:0,steppedLine:!1}]}}))})},[c.currency]),null==E||null==c.currency?"":n.a.createElement("canvas",{ref:y,data:E,color:"#70CAD1"})}var k=function(){var e=Object(r.useReducer)(p,R),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)(function(){null!=a.currency&&c({type:f.SET_FROM_NUMBER,data:Y(a.toNumber,a.currency,1)})},[a.currency]),Object(r.useMemo)(function(){return n.a.createElement(m.Provider,{value:{currencyState:a,dispatch:c}},n.a.createElement("div",{className:"App"},n.a.createElement(C.a,null,n.a.createElement(E.a,{className:"justify-content-md-center justify-content-sm-center"},n.a.createElement(d.a,{xs:12,sm:10,md:6,style:v,className:"header-container"},n.a.createElement(E.a,null,n.a.createElement(d.a,{xs:12,sm:12,md:12,style:v},n.a.createElement("h1",null,"CURRENCY RATES"),n.a.createElement("p",null," Rates published by the European Central Bank"))))),n.a.createElement(E.a,{className:"justify-content-md-center justify-content-sm-center"},n.a.createElement(d.a,{xs:12,sm:10,md:6,style:v,className:"form-container"},n.a.createElement(E.a,null,n.a.createElement(d.a,{xs:12,sm:6,md:6,style:v},n.a.createElement(g,null),a.isFromCurrency?n.a.createElement(F,{actionType:f.SET_FROM_CURRENCY,actionType2:f.SET_IS_FROM_CURRENCY}):""),n.a.createElement(d.a,{xs:12,sm:6,md:6,style:v},n.a.createElement(B,null))),n.a.createElement(E.a,null,n.a.createElement(d.a,{xs:12,sm:6,md:6,style:v},n.a.createElement(x,null),a.isToCurrency?n.a.createElement(F,{actionType:f.SET_TO_CURRENCY,actionType2:f.SET_IS_TO_CURRENCY}):""),n.a.createElement(d.a,{xs:12,sm:6,md:6,style:v},n.a.createElement(I,null))),n.a.createElement(E.a,null,n.a.createElement(w,{color:"#6D00BF"})))))))},[a,c])};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(n.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.fe4bdce9.chunk.js.map